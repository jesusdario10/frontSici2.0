<div class="col-sm-12 fondo">
</div>
<div class="container">
  <div class="row">
    <div class="col-md-12">
      <div class="card">
        <div class="card-body">
          <div class="row">
            <div class="col-md-4">
              <div class="card">
                <div class="card-body sinnadaabajo">
                  <div class="card-tittle">
                    <h4 style="text-align:center !important">{{estados}}</h4>
                  </div>
                  <div class="row centrado">
                    <div class="col-md-3 centrado col-sm-12 col-lg-3 sinnada">      
                        <button type="button" (mouseenter)="enteActivas($event)" (mouseleave)="leave($event)" (click)="clickActivas()" class="redondo btn btn-outline-success">
                          <i class="far fa-edit fa-2x fa-lg"></i>
                        </button>
                        <p>
                          {{activas}}
                        </p>
                    </div>
                    <div class="col-md-3 centrado col-sm-12 col-lg-3 sinnada">      
                      <button type="button" (mouseenter)="enteEjecucion($event)" (mouseleave)="leave($event)" (click)="clickEjecucion()" class="redondo btn btn-outline-warning">
                        <i class="far fa fa-tools fa-2x fa-lg"></i>
                      </button>
                      <p>
                        {{ejecucion}}
                      </p>
                    </div>
                    <div class="col-md-3 centrado col-sm-12 col-lg-3 sinnada">      
                      <button type="button" (mouseenter)="enteEjecutadas($event)" (mouseleave)="leave($event)" (click)="clickEjecutadas()" class="redondo btn btn-outline-primary">
                        <i class="far fa-check-circle fa-2x fa-lg"></i>
                      </button>
                      <p>
                        {{ejecutadas}}
                      </p>
                    </div>
                    <div class="col-md-3 centrado col-sm-12 col-lg-3 sinnada">      
                      <button type="button" (mouseenter)="enteRestriccion($event)" (mouseleave)="leave($event)" (click)="clickDetenidas()"  class="redondo btn btn-outline-danger">
                        <i class="fas fa-ban fa-2x fa-lg"></i>
                      </button>
                      <p>
                        {{detenidas}}
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-4">
                <div class="card">
                  <div class="card-body sinnadaabajo">
                    <div class="card-tittle">
                      <h4 style="text-align:center !important">Crear Orden</h4>
                    </div>
                    <div class="row centrado">
                      <div class="col-md-12 centrado col-sm-12 col-lg-12 sinnada">      
                          <button type="button" [routerLink]="['/ordenesClienteCrear']"  class="redondo btn btn-outline-info">
                            <i class="fas fa-plus-square fa-2x fa-lg"></i>
                          </button>
                          <p style="visibility:hidden">ddd</p>
                      </div>
                    </div>
                  </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card">
                  <div class="card-body sinnadaabajo">
                    <div class="card-tittle">
                      <h4 style="text-align:center !important">{{operaciones}}</h4>
                    </div>
                    <div class="row centrado">
                      
                      <div class="col-md-6 centrado col-sm-12 col-lg-6 ">      
                          <button type="button" (mouseenter)="enterExcel($event)"  (mouseleave)="leaveOperaciones($event)" (click)="exportAsXLSX()" class=" redondo btn btn-outline-success">
                            <i class="far fa-file-excel fa-2x fa-lg"></i>
                          </button>
                          <p style="visibility:hidden">ddd</p>
                      </div>
                      <div class="col-md-6 centrado col-sm-12 col-lg-6 ">      
                          <button type="button"   (mouseenter)="enterRestore($event)" (mouseleave)="leaveOperaciones($event)" (click)="clickTodo()"  class=" redondo btn btn-outline-dark">
                            <i class="fas fa-power-off fa-2x fa-lg"></i>
                          </button>
                          <p style="visibility:hidden">ddd</p>
                      </div>
                      
                    </div>
                  </div>
                </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-12 espacio">
      <div class="card">
        <div class="card-body form-control" style="text-align:center !important">
          <div class="row">
            <div class="col-md-4">
                <div class="form-group">
                    <label for="tag" class="negrita">Tag</label>
                    <input type="text"  class="form-control" required>
                  </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <label for="ubicacion" class="negrita">Ubicacion</label>
                <input type="text"  class="form-control" required>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <label for="libreria" class="negrita">Libreria</label>
                <input type="text"  class="form-control" required>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-12 espacio">
        <div class="card">
          <div class="card-body form-control" style="text-align:center !important">
            <h5>Resultados</h5>
            <div class="row">
              <div class="col-md-12" style="text-align:center !important">
                <table *ngIf="ordenes.length >= 1" class="table table-responsive  table-hover table-bordered">
                  <thead class="table-primary">
                    <tr>
                      <th>#</th>
                      <th>Serial</th>
                      <th>Fecha</th>
                      <th>Ejecucion</th>
                      <th>Descripcion</th>
                      <th>Ubicacion</th>
                      <th>Descripcion de Equipo</th>
                      <th>Libreria</th>
                      <th>Solicitante</th>
                      <th>Estado</th>
                      <th>Ver</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor = "let orden of ordenes ; let i = index">
                      <td>{{orden.consecutivo}}</td>
                      <td>{{orden.equipo.serial}}</td>
                      <td>{{orden.fecha_creacion | date}}</td>
                      <td>{{orden.fecha_ejecucion | date}}</td>
                      <td>{{orden.historico}}</td>
                      <td>{{orden.ubicacion.nombre}}</td>
                      <td>{{orden.equipo.nombre_equipo}}</td>
                      <td>{{orden.libreria.nombre}}</td>
                      <td>{{orden.solicitante}}</td>
                      <td>{{orden.estado}}</td>
                      <td>
                        <p >
                          <i *ngIf="orden.estado == 'ACTIVA' || orden.estado == 'EJECUCION'" class="far fa-eye cursor" style="color:chartreuse"    title="Ver Orden"></i>
                          <i *ngIf="orden.estado == 'EJECUTADA' || orden.estado == 'DETENIDA'"class="far fa-eye cursor" style="color:chartreuse" (click)="listarUnaOrdenCliente(orden._id)"  data-toggle="modal" data-target="#exampleModalLong"   title="Ver Orden"></i>
                          <i *ngIf="orden.estado == 'ACTIVA' || orden.estado == 'EJECUCION'" class="fas fa-pencil-alt cursor" style="color:chocolate" [routerLink]="['/ordenesCgestion', orden._id]"   title="Gestionar Orden"></i>
                          <i *ngIf="orden.estado == 'EJECUTADA' || orden.estado == 'DETENIDA'" class="fas fa-pencil-alt cursor" style="color:chocolate" [routerLink]="['/ordenesCgestion', orden._id]"    title="Gestionar Orden"></i>
                        </p>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <!--PAGINACION -->
                <div  style="text-align:center">
                    <button type="button" *ngIf="page >= 2 " [routerLink]="['/ordenesC', pre_page]" class="btn btn-outline-info">Anterior</button> &nbsp;
                    <button type="button" *ngIf="page != pages && pages > 1 " [routerLink]="['/ordenesC', next_page]" class="btn btn-outline-info ">Siguiente</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
  </div>
</div>
<!-- Modal -->
<!--[routerLink]="['/graficoClienteLineaVer', orden._id]"-->
<div class="modal fade elmodal" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header centrado">
        <h5 class="modal-title" id="exampleModalLongTitle">Orden No : &nbsp; {{noOrden}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span><strong>Tag:</strong></span>&nbsp;{{tag}}<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span><strong>Ubicacion:</strong></span>&nbsp;{{ubicacion2}}<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span><strong>Fecha Creacion:</strong></span>&nbsp;{{fechaCreacion}}<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span><strong>Fecha Requerida:</strong></span>&nbsp;{{fechaRequerida}}<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span><strong>Nombre Equipo:</strong></span>&nbsp;{{nombreEquipo}}<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span><strong>Estado:</strong></span>&nbsp;{{estadouna}}<br>
        <br>
        <div *ngIf="estadouna =='DETENIDA'" >
            <div class="relojContainer centrado">
                Meses: {{mesesdif}} - Dias: {{diasdif}} - Horas: {{hoursdif}}
                <div class="reloj">
                  {{hora}}
                </div>
            </div>
            <div class="form-group centrado">
                <label><strong>Motivo de la Restriccion</strong></label>
                <textarea disabled class="form-control" rows="3" [(ngModel)]="restriccion"></textarea>
            </div>
        </div>
      </div>
      <div class="modal-footer">
      </div>
    </div>
  </div>
</div>
